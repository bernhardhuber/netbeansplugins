<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:rs="http://pmd.sf.net/ruleset/1.0.0">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Ruleset Java Logging Rules</title>
<link rel="stylesheet" href="ruleset.css" type="text/css">
<link rel="stylesheet" href="nbdocs:/org/netbeans/modules/usersguide/ide.css" type="text/css">
</head>
<body>
<a name="toc"></a>
<h1>Ruleset Java Logging Rules</h1>
<div>
<a href="index.html">Index</a>
</div>
<div>
                    Language -</div>
<h2>Description</h2>
<pre class="rulesetDescription">
The Java Logging ruleset contains a collection of rules that find questionable usages of the logger.
  </pre>
<ul>
<li>
<a href="#MoreThanOneLogger::">MoreThanOneLogger::</a>
</li>
<li>
<a href="#LoggerIsNotStaticFinal::">LoggerIsNotStaticFinal::</a>
</li>
<li>
<a href="#SystemPrintln::">SystemPrintln::</a>
</li>
<li>
<a href="#AvoidPrintStackTrace::">AvoidPrintStackTrace::</a>
</li>
</ul>
<a name="MoreThanOneLogger::"></a>
<h2>Rule MoreThanOneLogger::</h2>
<a href="#toc">TOC</a>
<h3>Description</h3>
<pre class="ruleDescription">
Normally only one logger is used in each class.
     </pre>
<dl class="rule">
<dt>Message</dt>
<dd>Class contains more than one logger.</dd>
<dt>Class</dt>
<dd>net.sourceforge.pmd.rules.MoreThanOneLogger</dd>
<dt>Reference</dt>
<dd>-</dd>
<dt>ExternalInfoUrl</dt>
<dd>http://pmd.sourceforge.net/rules/logging-java.html#MoreThanOneLogger</dd>
<dt>TypeResolution</dt>
<dd>-</dd>
<dt>Priority</dt>
<dd>2</dd>
</dl>
<h3>Example</h3>
<div>Example code snippet of this rule.
            </div>
<pre class="example">
 
class Foo{
    Logger log = Logger.getLogger(Foo.class.getName());
    // It is very rare to see two loggers on a class, normally
    // log information is multiplexed by levels
    Logger log2= Logger.getLogger(Foo.class.getName());
}

     </pre>
<br>
<a href="#toc">TOC</a><a name="LoggerIsNotStaticFinal::"></a>
<h2>Rule LoggerIsNotStaticFinal::</h2>
<a href="#toc">TOC</a>
<h3>Description</h3>
<pre class="ruleDescription">
In most cases, the Logger can be declared static and final.
     </pre>
<dl class="rule">
<dt>Message</dt>
<dd>The Logger variable declaration does not contain the static and final modifiers</dd>
<dt>Class</dt>
<dd>net.sourceforge.pmd.rules.XPathRule</dd>
<dt>Reference</dt>
<dd>-</dd>
<dt>ExternalInfoUrl</dt>
<dd>http://pmd.sourceforge.net/rules/logging-java.html#LoggerIsNotStaticFinal</dd>
<dt>TypeResolution</dt>
<dd>-</dd>
<dt>Priority</dt>
<dd>2</dd>
</dl>
<h3>Example</h3>
<div>Example code snippet of this rule.
            </div>
<pre class="example">
 
class Foo{
    Logger log = Logger.getLogger(Foo.class.getName());
    // It is much better to declare the logger as follows 
    // static final Logger log = Logger.getLogger(Foo.class.getName());
}

     </pre>
<h3>Properties</h3>
<div>Following properties are defined:
            </div>
         
<dl class="property">
<dt>Name</dt>
<dd class="propertyName">xpath</dd>
<dt>Description</dt>
<dd class="propertyDescription">-</dd>
<dt>Value</dt>
<dd>
<pre class="propertyValue">
                 
//VariableDeclarator
 [parent::FieldDeclaration]
 [../Type/ReferenceType
  /ClassOrInterfaceType[@Image='Logger']
   and
  (..[@Final='false'] or ..[@Static = 'false'] ) ]
                
             </pre>
</dd>
</dl>
     
<br>
<a href="#toc">TOC</a><a name="SystemPrintln::"></a>
<h2>Rule SystemPrintln::</h2>
<a href="#toc">TOC</a>
<h3>Description</h3>
<pre class="ruleDescription">
System.(out|err).print is used, consider using a logger.
     </pre>
<dl class="rule">
<dt>Message</dt>
<dd>System.out.print is used</dd>
<dt>Class</dt>
<dd>net.sourceforge.pmd.rules.XPathRule</dd>
<dt>Reference</dt>
<dd>-</dd>
<dt>ExternalInfoUrl</dt>
<dd>http://pmd.sourceforge.net/rules/logging-java.html#SystemPrintln</dd>
<dt>TypeResolution</dt>
<dd>-</dd>
<dt>Priority</dt>
<dd>2</dd>
</dl>
<h3>Example</h3>
<div>Example code snippet of this rule.
            </div>
<pre class="example">
 
class Foo{
    Logger log = Logger.getLogger(Foo.class.getName());
    public void testA () {
        System.out.println("Entering test");
        // Better use this
        log.fine("Entering test");
    }
}

     </pre>
<h3>Properties</h3>
<div>Following properties are defined:
            </div>
         
<dl class="property">
<dt>Name</dt>
<dd class="propertyName">xpath</dd>
<dt>Description</dt>
<dd class="propertyDescription">-</dd>
<dt>Value</dt>
<dd>
<pre class="propertyValue">
                 
//Name[
    starts-with(@Image, 'System.out.print')
    or
    starts-with(@Image, 'System.err.print')
    ]
                
             </pre>
</dd>
</dl>
     
<br>
<a href="#toc">TOC</a><a name="AvoidPrintStackTrace::"></a>
<h2>Rule AvoidPrintStackTrace::</h2>
<a href="#toc">TOC</a>
<h3>Description</h3>
<pre class="ruleDescription">
Avoid printStackTrace(); use a logger call instead.
           </pre>
<dl class="rule">
<dt>Message</dt>
<dd>Avoid printStackTrace(); use a logger call instead.</dd>
<dt>Class</dt>
<dd>net.sourceforge.pmd.rules.XPathRule</dd>
<dt>Reference</dt>
<dd>-</dd>
<dt>ExternalInfoUrl</dt>
<dd>http://pmd.sourceforge.net/rules/logging-java.html#AvoidPrintStackTrace</dd>
<dt>TypeResolution</dt>
<dd>-</dd>
<dt>Priority</dt>
<dd>3</dd>
</dl>
<h3>Example</h3>
<div>Example code snippet of this rule.
            </div>
<pre class="example">

class Foo {
 void bar() {
  try {
   // do something
  } catch (Exception e) {
   e.printStackTrace();
  }
 }
}

           </pre>
<h3>Properties</h3>
<div>Following properties are defined:
            </div>
             
<dl class="property">
<dt>Name</dt>
<dd class="propertyName">xpath</dd>
<dt>Description</dt>
<dd class="propertyDescription">-</dd>
<dt>Value</dt>
<dd>
<pre class="propertyValue">

//PrimaryExpression
 [PrimaryPrefix/Name[contains(@Image,'printStackTrace')]]
 [PrimarySuffix[not(boolean(Arguments/ArgumentList/Expression))]]

             </pre>
</dd>
</dl>
           
<br>
<a href="#toc">TOC</a>
</body>
</html>
